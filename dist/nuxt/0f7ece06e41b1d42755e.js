(window.webpackJsonp=window.webpackJsonp||[]).push([[24,19,23],{106:function(t,o,n){"use strict";n.r(o);n(21),n(190);var e={components:{cartcontrol:n(34).default},props:{selectFoods:{type:Array,default:function(){return[]}},deliveryPrice:{type:Number,default:0},minPrice:{type:Number,default:0}},data:function(){return{balls:[{show:!1},{show:!1},{show:!1},{show:!1},{show:!1}],dropBalls:[],fold:!0}},computed:{totalPrice:function(){var t=0;return this.selectFoods.forEach(function(o){t+=o.price*o.count}),t},totalCount:function(){var t=0;return this.selectFoods.forEach(function(o){t+=o.count}),t},payDesc:function(){if(0===this.totalPrice)return"¥".concat(this.minPrice,"元起送");if(this.totalPrice<this.minPrice){var t=this.minPrice-this.totalPrice;return"还差¥".concat(t,"元起送")}return"去结算"},payClass:function(){return this.totalPrice<this.minPrice?"not-enough":"enough"},listShow:function(){return!!this.totalCount&&!this.fold}},methods:{toggleList:function(){this.totalCount&&(this.fold=!this.fold)},hideList:function(){this.fold=!0},empty:function(){this.selectFoods.forEach(function(t){t.count=0})},pay:function(){this.totalPrice<this.minPrice||window.alert("支付".concat(this.totalPrice,"元"))},addFood:function(t){this.drop(t)},drop:function(t){for(var o=0;o<this.balls.length;o++){var n=this.balls[o];if(!n.show)return n.show=!0,n.el=t,void this.dropBalls.push(n)}},beforeDrop:function(t){for(var o=this.balls.length;o--;){var n=this.balls[o];if(n.show){var e=n.el.getBoundingClientRect(),i=e.left-32,a=-(window.innerHeight-e.top-22);t.style.display="",t.style.webkitTransform="translate3d(0,".concat(a,"px,0)"),t.style.transform="translate3d(0,".concat(a,"px,0)");var s=t.getElementsByClassName("inner-hook")[0];s.style.webkitTransform="translate3d(".concat(i,"px,0,0)"),s.style.transform="translate3d(".concat(i,"px,0,0)")}}},dropping:function(t,o){t.offsetHeight;this.$nextTick(function(){t.style.webkitTransform="translate3d(0,0,0)",t.style.transform="translate3d(0,0,0)";var n=t.getElementsByClassName("inner-hook")[0];n.style.webkitTransform="translate3d(0,0,0)",n.style.transform="translate3d(0,0,0)",t.addEventListener("transitionend",o)})},afterDrop:function(t){var o=this.dropBalls.shift();o&&(o.show=!1,t.style.display="none")}}},i=(n(348),n(13)),a=Object(i.a)(e,function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"shopcart"},[e("div",{staticClass:"content",on:{click:t.toggleList}},[e("div",{staticClass:"content-left"},[e("div",{staticClass:"logo-wrapper"},[e("div",{staticClass:"logo",class:{highlight:t.totalCount>0}},[t.totalCount<=0?e("span",{staticClass:"icon-shopping_cart"},[e("img",{attrs:{src:n(346),alt:""}})]):e("span",{staticClass:"icon-shopping_cart highlight"},[e("img",{attrs:{src:n(347),alt:""}})])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.totalCount>0,expression:"totalCount>0"}],staticClass:"num"},[t._v(t._s(t.totalCount))])]),t._v(" "),e("div",{staticClass:"price",class:{highlight:t.totalPrice>0}},[t._v("￥"+t._s(t.totalPrice)+"元")]),t._v(" "),e("div",{staticClass:"desc"},[t._v("另需配送费￥"+t._s(t.deliveryPrice)+"元")])]),t._v(" "),e("div",{staticClass:"content-right"},[e("div",{staticClass:"pay",class:t.payClass},[t._v(t._s(t.payDesc))])])]),t._v(" "),e("div",{staticClass:"ball-container"},t._l(t.balls,function(o,n){return e("div",{key:n},[e("transition",{attrs:{name:"drop"},on:{"before-enter":t.beforeDrop,enter:t.dropping,"after-enter":t.afterDrop}},[e("div",{directives:[{name:"show",rawName:"v-show",value:o.show,expression:"ball.show"}],staticClass:"ball"},[e("div",{staticClass:"inner inner-hook"})])])],1)})),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.listShow,expression:"listShow"}],staticClass:"mark",on:{click:t.toggleList}}),t._v(" "),e("transition",{attrs:{name:"fold"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.listShow,expression:"listShow"}],staticClass:"shopcart-list"},[e("div",{staticClass:"list-header"},[e("h1",{staticClass:"title"},[t._v("已选商品")]),t._v(" "),e("span",{staticClass:"empty",on:{click:t.empty}},[t._v("清空")])]),t._v(" "),e("div",{ref:"listContent",staticClass:"list-content"},[e("ul",t._l(t.selectFoods,function(o,n){return e("li",{key:n,staticClass:"food"},[e("span",{staticClass:"name"},[t._v(t._s(o.name))]),t._v(" "),e("div",{staticClass:"price"},[e("span",[t._v("￥"+t._s(o.price*o.count))])]),t._v(" "),e("div",{staticClass:"cartcontrol-wrapper"},[e("cartcontrol",{attrs:{food:o},on:{add:t.addFood}})],1)])}))])])])],1)},[],!1,null,null,null);a.options.__file="shopcart.vue";o.default=a.exports},190:function(t,o,n){"use strict";var e=n(2),i=n(16),a=n(20),s=n(104),r=n(52),c=n(10),l=n(53).f,p=n(72).f,h=n(9).f,d=n(191).trim,f=e.Number,u=f,g=f.prototype,v="Number"==a(n(71)(g)),x="trim"in String.prototype,b=function(t){var o=r(t,!1);if("string"==typeof o&&o.length>2){var n,e,i,a=(o=x?o.trim():d(o,3)).charCodeAt(0);if(43===a||45===a){if(88===(n=o.charCodeAt(2))||120===n)return NaN}else if(48===a){switch(o.charCodeAt(1)){case 66:case 98:e=2,i=49;break;case 79:case 111:e=8,i=55;break;default:return+o}for(var s,c=o.slice(2),l=0,p=c.length;l<p;l++)if((s=c.charCodeAt(l))<48||s>i)return NaN;return parseInt(c,e)}}return+o};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var o=arguments.length<1?0:t,n=this;return n instanceof f&&(v?c(function(){g.valueOf.call(n)}):"Number"!=a(n))?s(new u(b(o)),n,f):b(o)};for(var m,w=n(6)?l(u):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),y=0;w.length>y;y++)i(u,m=w[y])&&!i(f,m)&&h(f,m,p(u,m));f.prototype=g,g.constructor=f,n(11)(e,"Number",f)}},191:function(t,o,n){var e=n(5),i=n(19),a=n(10),s=n(192),r="["+s+"]",c=RegExp("^"+r+r+"*"),l=RegExp(r+r+"*$"),p=function(t,o,n){var i={},r=a(function(){return!!s[t]()||"​"!="​"[t]()}),c=i[t]=r?o(h):s[t];n&&(i[n]=c),e(e.P+e.F*r,"String",i)},h=p.trim=function(t,o){return t=String(i(t)),1&o&&(t=t.replace(c,"")),2&o&&(t=t.replace(l,"")),t};t.exports=p},192:function(t,o){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},193:function(t,o,n){var e=n(209);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);(0,n(18).default)("072daf24",e,!0,{sourceMap:!1})},200:function(t,o,n){var e=n(349);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);(0,n(18).default)("040c1ca4",e,!0,{sourceMap:!1})},208:function(t,o,n){"use strict";var e=n(193);n.n(e).a},209:function(t,o,n){(t.exports=n(17)(!1)).push([t.i,"\n.cartcontrol{display:flex;align-items:center\n}\n.cartcontrol .inner{width:24px;height:24px\n}\n.cartcontrol .cart-count{display:inline-block;vertical-align:top;width:25px;text-align:center;font-size:15px;color:#333\n}\n.cartcontrol .cart-add{display:inline-block;padding:6px;line-height:24px;font-size:24px;color:#00a0dc\n}",""])},34:function(t,o,n){"use strict";n.r(o);var e=n(0),i={props:["food"],methods:{addCart:function(t){this.food.count?this.food.count++:e.default.set(this.food,"count",1),this.$emit("add",t.target)},decreaseCart:function(t){this.food.count&&this.food.count--}}},a=(n(208),n(13)),s=Object(a.a)(i,function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"cartcontrol"},[n("svg",{directives:[{name:"show",rawName:"v-show",value:t.food.count>0,expression:"food.count>0"}],staticClass:"inner",attrs:{fill:"rgb(35, 149, 255)"},on:{click:function(o){return o.stopPropagation(),o.preventDefault(),t.decreaseCart(o)}}},[n("use",{attrs:{"xlink:href":"#cart-minus"}})]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.food.count>0,expression:"food.count>0"}],staticClass:"cart-count"},[t._v(t._s(t.food.count))]),t._v(" "),n("svg",{attrs:{width:"24",height:"24",fill:"rgb(35, 149, 255)"},on:{click:t.addCart}},[n("use",{attrs:{"xlink:href":"#cart-add"}})])])},[],!1,null,null,null);s.options.__file="cartcontrol.vue";o.default=s.exports},346:function(t,o,n){t.exports=n.p+"img/8ecc9f8.svg"},347:function(t,o,n){t.exports=n.p+"img/e50a008.svg"},348:function(t,o,n){"use strict";var e=n(200);n.n(e).a},349:function(t,o,n){(t.exports=n(17)(!1)).push([t.i,'\n.shopcart{position:fixed;left:0;bottom:0;z-index:50;width:100%;height:48px;background:#000\n}\n.shopcart .content{display:flex;background:rgba(61,61,63,.9);font-size:0;color:hsla(0,0%,100%,.4)\n}\n.shopcart .content .content-left{flex:1\n}\n.shopcart .content .content-left .logo-wrapper{display:inline-block;vertical-align:top;position:relative;top:-10px;margin:0 12px;padding:6px;width:56px;height:56px;box-sizing:border-box;border-radius:50%;background-image:radial-gradient(circle,#363636 6.26667vw,#444 0)\n}\n.shopcart .content .content-left .logo-wrapper .logo{width:100%;height:100%;border-radius:50%;text-align:center;background:#2b343c\n}\n.shopcart .content .content-left .logo-wrapper .logo.highlight{background:#00a0dc\n}\n.shopcart .content .content-left .logo-wrapper .logo .icon-shopping_cart{margin:0 auto;padding:20% 0;display:block;width:60%;height:60%;color:#80858a\n}\n.shopcart .content .content-left .logo-wrapper .num{position:absolute;top:0;right:0;width:24px;height:16px;line-height:16px;text-align:center;border-radius:16px;font-size:9px;font-weight:700;color:#fff;box-shadow:0 4px 8px 0 rgba(0,0,0,.4);background-image:linear-gradient(-90deg,#ff7416,#ff3c15 98%)\n}\n.shopcart .content .content-left .price{display:inline-block;vertical-align:top;margin-top:12px;line-height:24px;padding-right:12px;box-sizing:border-box;border-right:1px solid hsla(0,0%,100%,.1);font-size:16px;font-weight:700\n}\n.shopcart .content .content-left .price.highlight{color:#fff\n}\n.shopcart .content .content-left .desc{display:inline-block;vertical-align:top;margin:12px 0 0 12px;line-height:24px;font-size:10px\n}\n.shopcart .content .content-right{flex:0 0 105px;width:105px\n}\n.shopcart .content .content-right .pay{height:48px;line-height:48px;text-align:center;font-size:14px;font-weight:700\n}\n.shopcart .content .content-right .pay.not-enough{color:#fff\n}\n.shopcart .content .content-right .pay.enough{background:#00b43c;color:#fff\n}\n.shopcart .ball-container .ball{position:fixed;left:32px;bottom:22px;z-index:200\n}\n.shopcart .ball-container .ball.drop-transition{transition:all .4s cubic-bezier(.49,-.29,.75,.41)\n}\n.shopcart .ball-container .ball.drop-transition .inner{width:16px;height:16px;border-radius:50%;background:#00a0dc;transition:all .4s\n}\n.shopcart .mark{position:fixed;top:0;width:100%;height:100%;background:rgba(0,0,0,.4);z-index:-2\n}\n.shopcart .shopcart-list{position:absolute;left:0;top:0;z-index:-1;width:100%;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)\n}\n.shopcart .shopcart-list.fold-enter-active,.shopcart .shopcart-list.fold-leave-active{transition:all .5s\n}\n.shopcart .shopcart-list.fold-enter,.shopcart .shopcart-list.fold-leave-active{-webkit-transform:translateZ(0);transform:translateZ(0)\n}\n.shopcart .shopcart-list .list-header{height:40px;line-height:40px;padding:0 18px;background:#f3f5f7;border-bottom:1px solid rgba(7,17,27,.1)\n}\n.shopcart .shopcart-list .list-header .title{float:left;font-size:14px;color:#07111b\n}\n.shopcart .shopcart-list .list-header .empty{float:right;font-size:12px;color:#00a0dc\n}\n.shopcart .shopcart-list .list-content{padding:0 18px;max-height:217px;overflow:hidden;background:#fff\n}\n.shopcart .shopcart-list .list-content .food{display:flex;align-items:center;padding:12px 0;box-sizing:border-box;position:relative\n}\n.shopcart .shopcart-list .list-content .food:after{display:block;position:absolute;left:0;bottom:0;width:100%;border:1px solid rgba(7,17,27,.1);content:" "\n}\n.shopcart .shopcart-list .list-content .food .name{line-height:24px;font-size:14px;color:#07111b\n}\n.shopcart .shopcart-list .list-content .food .price{position:absolute;right:90px;bottom:12px;line-height:24px;font-size:14px;font-weight:700;color:#f01414\n}\n.shopcart .shopcart-list .list-content .food .cartcontrol-wrapper{position:absolute;right:0\n}',""])}}]);